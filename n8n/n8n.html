<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á n8n ‡∏ö‡∏ô Fly.io ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏á‡∏ö (Free tier)</title>
    <style>
        /* --- Original Technical Theme --- */
        :root {
            --bg-body: #D0D0D0;
            --text-main: #333;
            --heading-primary: #2c3e50;
            --heading-secondary: #e67e22;
            --color-link: #2980b9;
            --color-code-inline: #c0392b;
            --bg-code-block: #2d3436;
            --text-code-block: #dfe6e9;
            --border-primary: #eee;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-main);
            max-width: 850px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--bg-body);
        }
        h1 { 
            color: var(--heading-primary); 
            border-bottom: 2px solid var(--border-primary); 
            padding-bottom: 10px; 
        }
        h2 { 
            color: var(--heading-secondary); 
            margin-top: 15px; 
            border-left: 4px solid var(--heading-secondary); 
            padding-left: 10px; 
        }
        h3 { 
            color: var(--heading-primary); 
            margin-top: 10px; 
        }
        
        /* --- Card Styles (Clean Separation) --- */
        .card {
            background-color: #EDEDED; /* smokeWhite card background */
            color: var(--text-main);
            padding: 25px;
            margin: 20px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .card h2, .card h3 {
            border-left: none; /* Remove duplicate border inside card */
        }
        
        /* --- Code & Pre Styles --- */
        code {
            background-color: #f0f2f5; 
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "Consolas", "Monaco", monospace;
            color: var(--color-code-inline);
            font-size: 0.95em;
        }
        pre {
            background-color: var(--bg-code-block); 
            color: var(--text-code-block); 
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: "Consolas", "Monaco", monospace;
            font-size: 0.9em;
            margin: 15px 0;
        }
        
        /* --- Utility Boxes --- */
        .note {
            background-color: #e8f6f3;
            border-left: 5px solid #1abc9c;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .warning {
            background-color: #fff3cd; 
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        /* --- TOC/Quicklinks --- */
        .toc {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            background-color: #FBEFE1;
        }
        .toc summary {
            cursor: pointer;
            font-size: 1.1em;
            font-weight: bold;
            display: list-item;
            margin-left: 10px;
            color: var(--heading-primary);
        }
        .toc a {
            text-decoration: none;
            color: var(--color-link);
            font-weight: 400;
        }
        .toc ul {
            list-style: none;
            padding-left: 20px;
            margin-top: 10px;
        }
        .toc ul li {
            margin-bottom: 5px;
        }

        #appNameInput {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 50%;
            margin-right: 10px;
        }
        button {
            background-color: #e0e0e0;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background-color: #d0d0d0;
        }
        .app-name-display {
             font-weight: bold;
             color: #1abc9c;
        }
    </style>
</head>
<body>

    <article>
        <h1>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á n8n ‡∏ö‡∏ô Fly.io ‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏á‡∏ö</h1>
        <p>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡∏≠‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á n8n ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Database ‡πÅ‡∏¢‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ Server **"‡∏´‡∏•‡∏±‡∏ö"** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏á‡∏ö Free Tier ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ Cron-job.org ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏õ‡∏•‡∏∏‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤</p>

        <div id="app-name-setup" class="warning">
            <h3>üõ†Ô∏è ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ôn8n‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)</h3>
            <input type="text" id="appNameInput" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: my-project" />
            <button onclick="updateAppNames()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô &amp; ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>

        <div class="toc">
            <details open>
                <summary>üìë ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç (Quick Link)</summary>
                <ul>
                    <li><a href="#prep">1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°</a></li>
                    <li><a href="#config">2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Config</a></li>
                    <li><a href="#infra">3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Infrastructure</a></li>
                    <li><a href="#secrets">4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets</a></li>
                    <li><a href="#deploy">5. Deploy ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a></li>
                    <li><a href="#cronjob">6. ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron-job.org (Cold Start)</a></li>
                </ul>
            </details>
        </div>

        <div class="card">
            <h2 id="prep">1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°</h2>
            <pre>
mkdir YOUR_APP_NAME_BASE-n8n
cd YOUR_APP_NAME_BASE-n8n
flyctl auth login</pre>
        </div>
        
        <div class="card">
            <h2 id="config">2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Config</h2>
            
            <h3 id="config-docker">2.1 ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå <code>Dockerfile</code></h3>
            <p>‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>nano Dockerfile</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:
            <br>(‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏Å‡∏î **Ctrl+O** > **Enter** > **Ctrl+X** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å nano)</p>
            <pre>
FROM n8nio/n8n:latest
USER root
RUN npm install -g playwright
USER node</pre>

            <h3 id="config-flytoml">2.2 ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå <code>fly.toml</code> (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Sleep Mode)</h3>
            <p>‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á <code>nano fly.toml</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î:
            <br>(‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏´‡πâ‡∏Å‡∏î **Ctrl+O** > **Enter** > **Ctrl+X** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å nano)</p>
            <p class="warning">‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ <code>min_machines_running = 0</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</p>
            <pre>
# fly.toml
app = 'YOUR_APP_NAME_BASE-n8n' 
primary_region = 'sin' # ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ sin (‡∏™‡∏¥‡∏á‡∏Ñ‡πÇ‡∏õ‡∏£‡πå) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢
[build]
  dockerfile = "Dockerfile"

[[mounts]]
  source = 'n8n_vol'
  destination = '/home/node/.n8n'
  auto_extend_size_threshold = 80
  auto_extend_size_increment = "1GB"
  auto_extend_size_limit = "5GB"

[http_service]
  internal_port = 5678
  force_https = true
  auto_stop_machines = 'stop'   # ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ô‡πÉ‡∏ä‡πâ
  auto_start_machines = true    # ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ Request ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤
  min_machines_running = 0      # ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 0 ‡πÑ‡∏î‡πâ
  processes = ['app']

  [http_service.concurrency]
    type = 'connections'
    hard_limit = 25
    soft_limit = 20

[[vm]]
  memory = '1024mb' 
  cpu_kind = 'shared'
  cpus = 1</pre>
        </div>

        <div class="card">
            <h2 id="infra">3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Infrastructure</h2>
            <p><li>‡∏ñ‡πâ‡∏≤‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î database ‡∏ï‡∏•‡∏≠‡∏î ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ server run ‡∏ï‡∏•‡∏≠‡∏î‡∏à‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏á‡∏ö ‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö database ‡πÑ‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</li></p>
            <p><li>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á database n8n ‡∏à‡∏∞‡πÉ‡∏ä‡πâ volume ‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•(‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î 1 GB ‡∏ï‡∏≤‡∏°code‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á)</li></p>
            <pre>
# 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á App
flyctl apps create YOUR_APP_NAME_BASE-n8n --org personal

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Volume
flyctl volumes create n8n_vol --region sin --size 1 --app YOUR_APP_NAME_BASE-n8n

# 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Database
flyctl postgres create --name YOUR_APP_NAME_BASE-n8n-db --region sin --vm-size shared-cpu-1x --volume-size 1

# 4. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Database (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤ User/Pass)
flyctl postgres attach --app YOUR_APP_NAME_BASE-n8n YOUR_APP_NAME_BASE-n8n-db</pre>
        </div>

        <div class="card">
            <h2 id="secrets">4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Secrets (‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ DB ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå)</h2>
            <p>0. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤ database ‡πÅ‡∏¢‡∏Å ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠ 1. ‡∏Å‡∏±‡∏ö 2. ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á run code DB_ ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
            <p>1. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô:<br><code>flyctl ssh console --app YOUR_APP_NAME_BASE-n8n -C 'echo $DATABASE_URL'</code></p>
            <p>2. ‡∏ô‡∏≥ User/Password ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ:</p>
            <pre>
flyctl secrets set \
  N8N_HOST='YOUR_APP_NAME_BASE-n8n.fly.dev' \
  N8N_PORT='5678' \
  N8N_PROTOCOL='https' \
  WEBHOOK_URL='https://YOUR_APP_NAME_BASE-n8n.fly.dev' \
  GENERIC_TIMEZONE='Asia/Bangkok' \
  N8N_ENCRYPTION_KEY='‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏™‡∏∏‡πà‡∏°‡∏¢‡∏≤‡∏ß‡πÜ' \
  DB_TYPE=postgresdb \
  DB_POSTGRESDB_HOST=YOUR_APP_NAME_BASE-n8n-db.internal \
  DB_POSTGRESDB_PORT=5432 \
  DB_POSTGRESDB_DATABASE=YOUR_APP_NAME_BASE-n8n \
  DB_POSTGRESDB_USER=&lt;User_‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤&gt; \
  DB_POSTGRESDB_PASSWORD=&lt;Password_‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤&gt; \
  --app YOUR_APP_NAME_BASE-n8n</pre>
        </div>

        <div class="card">
            <h2 id="deploy">5. Deploy ‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
            <pre>flyctl deploy --app YOUR_APP_NAME_BASE-n8n</pre>
        </div>

        <div class="card">
            <h2 id="cronjob">6. ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron-job.org (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)</h2>
            <p>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏∞ "‡∏´‡∏•‡∏±‡∏ö" ‡πÄ‡∏£‡∏≤‡∏à‡∏∂‡∏á‡πÉ‡∏ä‡πâ Node <code>Schedule Trigger</code> ‡πÉ‡∏ô n8n ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏î‡∏¥‡∏ô) ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ External Trigger ‡∏ô‡∏µ‡πâ‡πÅ‡∏ó‡∏ô:</p>
            
            <h3>üö™ ‡∏Å‡∏•‡πÑ‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (The Cold Start)</h3>
            <p>‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏á Webhook ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Server ‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏ö‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏¥‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Fly.io Proxy Layer** ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏≤‡∏°‡πÄ‡∏ù‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÅ‡∏•‡∏∞‡∏™‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:</p>
            <ol>
                <li><strong>Server Sleep:</strong> n8n VM ‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î (Count 0) ‡πÅ‡∏ï‡πà URL ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</li>
                <li><strong>The Wake-Up Call:</strong> Cron-job.org ‡∏¢‡∏¥‡∏á Request ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Webhook URL</li>
                <li><strong>Proxy Intercepts:</strong> Fly.io Proxy ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÅ‡∏•‡∏∞‡∏™‡∏±‡πà‡∏á **Scale Up** VM ‡∏à‡∏≤‡∏Å 0 ‡πÄ‡∏õ‡πá‡∏ô 1 ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                <li><strong>Cold Start Delay:</strong> VM ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 5-15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏ï‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</li>
                <li><strong>Execution:</strong> ‡πÄ‡∏°‡∏∑‡πà‡∏≠ VM ‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå Request ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å Hold ‡πÑ‡∏ß‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Node Webhook ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô Workflow ‡∏ï‡πà‡∏≠‡πÑ‡∏õ</li>
            </ol>

            <h3>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤:</h3>
            
            <h4>‡πÉ‡∏ô n8n:</h4>
            <ol>
                <li>‡∏™‡∏£‡πâ‡∏≤‡∏á Workflow ‡πÉ‡∏´‡∏°‡πà</li>
                <li>‡πÉ‡∏ä‡πâ Node <strong>Webhook</strong> ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏° (Start Node)</li>
                <li>‡∏ï‡∏±‡πâ‡∏á Method ‡πÄ‡∏õ‡πá‡∏ô <code>GET</code></li>
                <li>Copy Production URL (‡πÄ‡∏ä‡πà‡∏ô <code>https://.../webhook/...</code>)</li>
                <li>‡∏Å‡∏î <strong>Active</strong> Workflow ‡πÑ‡∏ß‡πâ</li>
            </ol>

            <h4>‡πÉ‡∏ô Cron-job.org:</h4>
            <ol>
                <li>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Cronjob ‡πÉ‡∏´‡∏°‡πà</li>
                <li>‡πÉ‡∏™‡πà URL ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å n8n ‡∏•‡∏á‡πÑ‡∏õ</li>
                <li>‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏∏‡∏Å 15 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 08.00 ‡∏ô.)</li>
                <li>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</li>
            </ol>
            
            <div class="note">
                ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Cron-job.org ‡∏à‡∏∞‡∏¢‡∏¥‡∏á Request ‡∏°‡∏≤‡∏ó‡∏µ‡πà Fly.io > ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á n8n ‡∏à‡∏∞‡∏ï‡∏∑‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô > ‡∏£‡∏±‡∏ô‡∏á‡∏≤‡∏ô‡∏à‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à > ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏á‡∏ö‡πÑ‡∏î‡πâ 100%
            </div>
        </div>
    </article>
    
    <script>
        const placeholderTarget = 'YOUR_APP_NAME_BASE'; 

        function updateAppNames() {
            let input = document.getElementById('appNameInput').value.toLowerCase().trim();
            
            // Allow only letters, numbers, and dashes
            input = input.replace(/[^a-z0-9-]/g, '');

            if (!input) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô (‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£, ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç, ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏µ‡∏î‡∏Å‡∏•‡∏≤‡∏á) ‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞");
                return;
            }

            const appNameFull = input + '-n8n';
            const dbNameFull = input + '-n8n-db'; 
            
            // --- Step 1: Replace all instances in the document's HTML ---
            let htmlContent = document.body.innerHTML;

            // 1. Replace full DB name placeholder
            htmlContent = htmlContent.replace(new RegExp(placeholderTarget + '-n8n-db', 'g'), dbNameFull);
            
            // 2. Replace full App name placeholder
            htmlContent = htmlContent.replace(new RegExp(placeholderTarget + '-n8n', 'g'), appNameFull);
            
            // 3. Replace the app base placeholder (in things like mkdir and fly.toml app name)
            htmlContent = htmlContent.replace(new RegExp(placeholderTarget, 'g'), input);

            document.body.innerHTML = htmlContent;

            // --- Step 2: Update the display area and confirm ---
            const displayArea = document.getElementById('app-name-display-code');
            if (displayArea) {
                 displayArea.textContent = appNameFull;
            }

            // --- Step 3: Update and hide the setup box ---
            const setupBox = document.getElementById('app-name-setup');
            if (setupBox) {
                 setupBox.style.border = '2px solid #1abc9c';
                 setupBox.innerHTML = `<h3>‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</h3><p>‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span class="app-name-display">${appNameFull}</span></p><p>‡∏ä‡∏∑‡πà‡∏≠ Database: <span class="app-name-display">${dbNameFull}</span></p><p>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ: ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô 1-5 ‡πÑ‡∏õ‡∏£‡∏±‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö</p>`;
            }
            
            alert(`‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡πá‡∏ô "${appNameFull}" ‡∏ó‡∏±‡πà‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!`);
        }
    </script>

</body>
</html>
